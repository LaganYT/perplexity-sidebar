[
  {
    "id": 1,
    "priority": 100,
    "action": {
      "type": "modifyHeaders",
      "responseHeaders": [
        {
          "header": "x-frame-options",
          "operation": "remove"
        },
        {
          "header": "content-security-policy",
          "operation": "remove"
        }
      ]
    },
    "condition": {
      "urlFilter": "https://www.perplexity.ai/*",
      "resourceTypes": ["main_frame"]
    }
  },
  {
    "id": 2,
    "priority": 50,
    "action": {
      "type": "modifyHeaders",
      "responseHeaders": [
        {
          "header": "x-frame-options",
          "operation": "remove"
        },
        {
          "header": "content-security-policy",
          "operation": "remove"
        },
        {
          "header": "access-control-allow-origin",
          "operation": "set",
          "value": "*"
        },
        {
          "header": "access-control-allow-methods",
          "operation": "set",
          "value": "GET, POST, PUT, DELETE, OPTIONS, HEAD"
        },
        {
          "header": "access-control-allow-headers",
          "operation": "set",
          "value": "Content-Type, Authorization, X-Requested-With, Accept, Origin, Cache-Control, Pragma"
        },
        {
          "header": "access-control-allow-credentials",
          "operation": "set",
          "value": "true"
        }
      ]
    },
    "condition": {
      "urlFilter": "https://www.perplexity.ai/*",
      "resourceTypes": ["sub_frame", "script", "stylesheet", "image", "font", "media", "xmlhttprequest", "websocket"]
    }
  },
  {
    "id": 3,
    "priority": 1,
    "action": {
      "type": "modifyHeaders",
      "responseHeaders": [
        {
          "header": "x-frame-options",
          "operation": "remove"
        },
        {
          "header": "content-security-policy",
          "operation": "remove"
        },
        {
          "header": "access-control-allow-origin",
          "operation": "set",
          "value": "*"
        },
        {
          "header": "access-control-allow-methods",
          "operation": "set",
          "value": "GET, POST, PUT, DELETE, OPTIONS, HEAD"
        },
        {
          "header": "access-control-allow-headers",
          "operation": "set",
          "value": "Content-Type, Authorization, X-Requested-With, Accept, Origin, Cache-Control, Pragma"
        }
      ]
    },
    "condition": {
      "urlFilter": "https://pplx-next-static-public.perplexity.ai/*",
      "resourceTypes": ["script", "stylesheet", "image", "font", "media", "xmlhttprequest", "websocket"]
    }
  },
  {
    "id": 4,
    "priority": 1,
    "action": {
      "type": "modifyHeaders",
      "responseHeaders": [
        {
          "header": "x-frame-options",
          "operation": "remove"
        },
        {
          "header": "content-security-policy",
          "operation": "remove"
        },
        {
          "header": "access-control-allow-origin",
          "operation": "set",
          "value": "*"
        },
        {
          "header": "access-control-allow-methods",
          "operation": "set",
          "value": "GET, POST, PUT, DELETE, OPTIONS, HEAD"
        },
        {
          "header": "access-control-allow-headers",
          "operation": "set",
          "value": "Content-Type, Authorization, X-Requested-With, Accept, Origin, Cache-Control, Pragma"
        }
      ]
    },
    "condition": {
      "urlFilter": "https://perplexity-ai.cloudflareaccess.com/*",
      "resourceTypes": ["main_frame", "sub_frame", "script", "stylesheet", "image", "font", "media", "xmlhttprequest", "websocket"]
    }
  }
]
